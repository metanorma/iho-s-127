
[[sec_12]]
== Data maintenance

[[sec_12.1]]
=== Introduction

Datasets are maintained as needed and must include mechanisms for
MTM updating. Data updates will be made by new editions. The maintenance
and update frequency of MTM datasets should be defined by the producers
(official national authority) implementing this specification.

Data Producers must use applicable sources to maintain and update
data and provide a brief description of the sources that were used
to produce the dataset in the appropriate metadata field.

[[sec_12.2]]
=== Production process for base and update datasets

Data Producers should follow their established production processes
for maintaining and updating datasets. Data is produced against the
DCEG and checked against the appropriate set of validation rules in
Appendix E.

[[sec_12.3]]
=== Dataset updates and cancellation

The purpose of issue of the dataset is indicated in the "purpose"
field of the dataset discovery metadata. In order to terminate a dataset,
an update dataset file is created for which the edition number must
be set to 0. This convention is only used to cancel a base dataset
file.

Where a dataset is cancelled and its name is reused at a later date,
the issue date must be greater than the issue date of the cancelled
dataset.

When the dataset is cancelled it must be removed from the system along
with all related update datasets and support files.

An exchange set may contain base dataset files and update dataset
files for the same datasets. Under these circumstances the update
dataset files must follow in the correct sequential order from the
last update applied to the base dataset file.

[[sec_12.4]]
=== Support file updates

The purpose of issue is indicated in the "purpose" field of the support
file discovery metadata. Support files carrying the "deletion" flag
in metadata must be removed from the system. When a feature or information
type pointing to a text, picture, or application file is deleted or
updated so that it no longer references the file, the system software
must check to see whether any other feature or information type references
the same file before that file is deleted.

Updates or deletions of a support file may require concurrent updates
to feature or information type instance attributes that depend on
the file, e.g., pictorialRepresentation, fileReference, and fileLocator
attributes.

[[sec_12.5]]
=== Feature and portrayal catalogues

For each new version of the S-127 Product Specification a new feature
and portrayal catalogue will be released. The system must be able
to manage datasets and their catalogues that are created on different
versions of the S-127 Product Specification.

[[sec_12.6]]
=== Feature history, versions, and change tracking

If applications or production systems require versioning of individual
instances of feature or information types, maintenance of histories,
or change tracking, the methods for versioning, history management,
and change tracking and display are left to the application or production
system.

[[sec_12.7]]
=== Dataset encryption

Details about dataset encryption are still to be determined, and may
mirror the method described in S-101.
