
[[sec_6]]
== Data content and structure

[[sec_6.1]]
=== Introduction

The S-127 product is based on the S-100 General Feature Model (GFM),
and is a feature-based vector product. <<fig_1>> shows how the S-127
application schema is realized from the S-100 GFM. All S-127 features
and information classes are derived from one of the abstract classes
*FeatureType* and *InformationType* defined in the S-127 application
schema, which realize the GFM meta-classes *S100_GF_FeatureType* and
*S100_GF_InformationType* respectively.

Marine Traffic Management (MTM) features are encoded as vector entities
which conform to S-100 geometry configuration level 3b
(<<IHO_S_100,clause=7-5.3.5>>). S-127 further constrains Level 3a with the
following:

* Coincident linear geometry must be avoided when there is a dependency
between features.
* The interpolation of arc by centre point and circle by centre point
curve segments must be circular arcs with centre and radius, as described
in <<IHO_S_100,clause=7-4.2.1>>, <<IHO_S_100,clause=7-4.2.20>>,
and <<IHO_S_100,clause=7-4.2.21>>.
* The interpolation of other GM_CurveSegment must be loxodromic.
* Linear geometry is defined by curves which are made of curve segments.
Each curve segment contains the geographic coordinates as control
points and defines an interpolation method between them. The distance
between two consecutive control points must not be less than 0.3 mm
at a display scale of 1:10000.

The following exception applies to S-127:

* The use of coordinates is restricted to two dimensions
(DirectPosition is restricted to two coordinates).

[[fig_1]]
.Realizations from the S-100 General Feature Model
image::figure-1.png[]

This clause contains the Application Schema expressed in UML and an
associated Feature Catalogue. The Feature Catalogue is included in
Annex C, and provides a full description of each feature type including
its attributes, attribute values, and relationships in the data product.
<<fig_2>> shows an overview of the S-127 application schema.

[[fig_2]]
.S-127 Data model overview
image::figure-2.png[]

The classes comprising the S-127 application schema are divided into
three packages. The first package, the Domain model, contains the
features and information types that model the MTM application domain
specifically. Meta-features that provide quality and coverage information
are contained within their own package. The last package is Cartographic
Features, which allow dataset creators to provide cartographically
necessary placements where required. Geographic features in all packages
use the spatial types from <<IHO_S_100,part=7>>, which are imported as-is
into the S-127 spatial types package and therefore can be used as
types for S-127 spatial attributes. The Geometry package also contains
definitions of 'union types' (combinations of the S-100 spatial types).
S-100 allows features to have different kinds of geometry, however
UML does not allow an attribute of a class to have multiple types.
The S-127 application schema models spatial attributes as attributes
of feature classes.

[[sec_6.2]]
=== Application schema

The UML models in this clause are segments of the overall S-127 application
schema, and include overviews of the feature classes, information
classes, meta features, spatial types, and the relationships between
them.

This clause contains a general overview of the classes and relationships
in the S-127 application schema. Detailed information about how to
use the feature types and information types to encode Marine Traffic
Management information is provided in the S-127 Data Classification
and Encoding Guide (DCEG).

The following conventions are used in the UML diagrams depicting the
application schema:

* Standard UML conventions for classes, associations, inheritance,
roles, and multiplicities apply. These conventions are described in
<<IHO_S_100,part=1>>.
* _Italic_ font for a class name indicates an abstract class.
* Feature classes are depicted with green background; the dark shade
for abstract feature classes and the light shade for ordinary (non-abstract)
feature classes.
* Information type classes are depicted with blue background; the
dark shade for abstract information type classes and the light shade
for ordinary information types.
* Association classes are depicted with a white background.
* Complex attributes are depicted with a pink background.
* Enumeration lists and codelists are depicted with a tan background.
The numeric code corresponding to each listed value is shown to its
right following an '=' sign.
* No significance attaches to the colour of associations.
(Complex diagrams may use different colours to distinguish associations
that cross one another.)
* Where the association role or name is not explicitly shown, the
default rules for roles and names apply:

** The role name is 'the<CLASSNAME>' where <CLASSNAME> is the name
of the class to which that association end is linked.
** The association name is '<CLASSNAME1>_<CLASSNAME2>' where <CLASSNAME1>
is the source and <CLASSNAME2> the target. In case of a feature/information
association the feature is the source. For feature/feature or information/information associations without explicit names the source/target are indicated by an arrowhead.
* Subclasses inherit the attributes and associations of their superclasses
at all levels, unless such inheritance is explicitly overridden in
the subclass.

[[sec_6.2.1]]
==== Domain model

The S-127 domain model has two base classes ('root classes') from
which all the domain-specific geographic features and information
type classes are derived. The base classes are shown in <<fig_3>>
below. The base class for geographic features is *FeatureType* and
the base class for information types is *InformationType*. Each of
the two base classes has a set of attributes which are therefore inherited
by all domain-specific features. The approximate area features in
S-127 are also derived from the geographic feature root class. Both
base classes are abstract classes and do not have direct instances
in S-127 data -- instead, S-127 feature and information type data
objects are instantiations of a non-abstract class derived from one
of these base classes.

S-127 meta- and cartographic features are not derived from these base
classes -- S-127 instead incorporates meta- and cartographic feature
definitions originally prepared for S-101 in the interests of harmonization
and interoperability with other S-100-based data products, especially
S-101 ENCs.

[[fig_3]]
.Base classes in S-127 and their attributes
image::figure-3.png[]

[[sec_6.2.1.1]]
===== Overview of domain features and information types

Marine Traffic Management data products include tracks and routes,
vessel traffic services, pilot services, underkeel clearance, and
certain types of specially designated areas which affect ships routeing.
It does not include protected areas, radio services (radio stations,
NAVTEX, weather or ice forecasts, NAVAREAs, METAREAs, etc.), natural
conditions, or harbour services. The broad categories of geographic
features included in the S-127 domain are:

* Tracks and routes, including IMO and non-IMO routeing measures and
recommended tracks.
* Vessel traffic services and related features such as calling-in
points, radar ranges, and signal stations.
* Pilot districts, pilot boarding places, and pilot services.
* Water level information features, including underkeel clearance
information features and waterways.
* Specially designated locations which affect navigation or provide
traffic services, such as military practice areas, security areas,
places of refuge, and areas needing special caution for reasons other
than natural hazards or environmental protection.

<<fig_4>> contains all the geographic features in the S-127 application
schema with their attributes. <<fig_5>> is a simplified version of
<<fig_4>>.

[%landscape]
<<<

[[fig_4]]
.Overview of S-127 Feature Types
image::figure-4.jpg[]

[[fig_5]]
.Overview of features (without attributes)
image::figure-5.jpg[]

[%portrait]
<<<

The abstract class *FeatureType* is an abstract class from which the
geographic feature classes in the application schema are derived.
*FeatureType* has attributes for fixed and periodic date ranges indicating
the effective dates of the feature, name of the feature, source information,
and a *textContent* attribute that allows text notes or references
to be provided for individual feature instances where appropriate.
The attributes defined in *FeatureType* are inherited by all S-127
geographic feature types. All the attributes in *FeatureType* are
optional. A derived class may impose additional constraints, which
will be described in the definition of the derived class or the S-127
DCEG.

Geographic features use spatial types defined in the geometry package
for spatial attributes. Datasets comprised of S-127 features are described
by metadata as defined in the S-127 metadata package. Metadata uses
selected spatial types (specifically, it uses the polygon type to
describe the coverage of a dataset).

[[fig_6]]
.Overview of S-127 Information Types
image::figure-6.png[]

The abstract class *InformationType* is an abstract class from which
the information type classes in the S-127 domain model are derived.
*InformationType* has attributes for fixed and periodic date ranges,
name associated with the individual information object if any, source
information, and a *textContent* attribute that allows text notes
or references to be provided for individual instances where appropriate.
The attributes defined in *InformationType* are inherited by all S-127
information type classes. All the attributes of *InformationType*
are optional. A derived class may impose additional constraints, which
will be described in the definition of the derived class or in the
S-127 DCEG.

[[sec_6.2.1.2]]
===== Relationships between features and information types

The hierarchy of geographic features is designed around the features'
associations to information types as well as inheritance of attributes.
There is a 4-level hierarchy of abstract feature classes. Each level
in the abstract feature class hierarchy is associated with one or
more information type classes. Subclasses inherit the associations
of their super-classes. The result is that feature classes can have
the associations of their direct parent abstract super-class as well
as associations inherited by the direct parent. For example,
*PilotBoardingPlace* can be associated to a *ContactDetails* object
(with a *SrvContact* association) as well as with a *Regulations*
object (with an *AssociatedRxN* association, inherited via the generalization
relationship between *OrganisationContactArea* and *FeatureType*).

[[fig_7]]
.Allowed direct relationships between feature and information types
image::figure-7.png[]

The four levels in the abstract hierarchy of feature classes depicted
in <<fig_7>> correspond to:

. S-127 features in general. Any S-127 feature can have a note, regulation,
etc., associated with it (associations to *NauticalInformation*, *Regulations*,
*Restrictions*, and *Recommendations*), or be designated relevant
to only a selected subset of vessels (association to class *Applicability*).
. Features associated with a source that may or must be contacted.
The abstract feature superclass for these features is *OrganisationContactArea*,
which adds an association to the information type *ContactDetails*.
. Features that may be supervised or controlled in some sense by an
organization. The abstract feature superclass for these features is
*SupervisedArea*, which adds an association to the information type
*Authority*. It inherits the associations of *OrganizationContactArea*
and *FeatureType*, so instances of these feature classes can have
associations to *ContactDetails*, *NauticalInformation*, *Regulations*,
*Restrictions*, and *Recommendations*, or be designated relevant to
only a selected subset of vessels (association to class *Applicability*).
. Features that also involve some kind of reporting (in the broad
sense). The abstract feature superclass for these features is
*ReportableServiceArea*, which adds an association to the information
type *ShipReport*. These features also inherit the allowed associations
of *FeatureType*, *OrganizationContactArea*, and *SupervisedArea*.

In addition to the associations allowed through inheritance, features
can have direct relationships to other information types. The S-127
application schema contains two such associations, between
*MilitaryPracticeArea* and *PilotService* on the feature side and
*ServiceHours* on the other.

Note that <<fig_7>> shows only feature/information associations. Feature
associations and information/information associations are allowed
as defined elsewhere in the application schema -- for example, the
operating hours of a *PilotService* on holidays will be indicated
by a *NonStandardWorkingDay* instance associated with the *ServiceHours*
instance which is in turn associated with the relevant *PilotService*
instance.

[[sec_6.2.1.3]]
===== Regulations, information notes, etc.

There are three main information types which represent regulations,
restrictions, and recommendations, respectively, and a fourth information
type for general or unclassifiable information.

* The *Regulations* class represents information derived from laws,
national shipping regulations, navigation rules, etc.
* Class *Restrictions* is intended for restrictions that are not derived
from regulatory sources.
* Class *Recommendations* is intended for information that is recommendatory
in nature; in S-127 this may be recommendations for maintenance of
listening watches, AMVER reporting, etc., that are either voluntary
or have not been issued as formal regulations.
* The fourth class, *NauticalInformation*, is intended for general
notes or other information that cannot be categorized as one of the
other three classes.

These information types all inherit the attributes of their immediate
abstract superclass *AbstractRxN*, which provides attributes *textContent*
and *graphic* for textual and pictorial material respectively. The
sub-attributes of its complex attribute *rxnCode* allow optional classification
of the material encoded in *textContent*/*graphic* according to the
type of material and the kind of nautical activity affected by it.
They also inherit the attributes of abstract superclass *InformationType*,
which allows encoding of the effective and expiry dates, if any, and
the source of information, if it is necessary to encode that data.

These classes are intended primarily for encoding text information,
such as that which derives from textual source material such as national
or local laws or official publications. Where specific attributes
such as the simple attribute *restriction* are permitted, they must
be used. For example, if a geographic feature class has the *restriction*
attribute, it should be used instead (explanations, details, paragraphs
from regulations, etc., can be encoded in an associated *Regulations*,
*NauticalInformation*, etc., object).

The use of these information types to associate regulatory and other
information to individual features is described elsewhere in <<sec_6.2.1>>.
<<fig_8>> depicts the *Regulations*, *Restrictions*, *Recommendations*,
and *NauticalInformation* classes, their class hierarchy, and the
attributes of their generalizations *AbstractRxN* and *InformationType*
(which are inherited by the classes).

[[fig_8]]
.Structure of regulations and note information types
image::figure-8.png[]

[[sec_6.2.1.4]]
===== Contact information

The detailed model of contact information is shown in <<fig_9>> below.

The *ContactDetails* class uses a condensed form of the complex attribute
*radiocommunications* compared to S-123 (Marine Radio Services).
When used as an attribute of *ContactDetails*, the sub-attributes
of *radiocommunications* are restricted to those shown in <<fig_9>>.
The complex attribute *telecommunications* is analogous to
*radiocommunications*, but describes telephone (and email, telegraph, etc.)
contact data.

[[fig_9]]
.Contact information - detail
image::figure-9.png[]

[[sec_6.2.1.5]]
===== Supervising organizations, schedules and business hours

The *SupervisedArea* class models areas which may have an associated
organization (government or private) that exercises some kind of control
or supervision over the area.

Operating schedules and business hours of organizations are modeled
by associating the *ServiceHours* class to an *Authority*. The *ServiceHours*
class is a container for the complex attribute describing daily schedules
for different weekdays (*scheduleByDayOfWeek*). This complex attribute
contains another complex attribute for time intervals and the days
to which they apply, and category sub-attribute to model whether the
schedule describes opening hours, closures, etc. Exceptions to the
schedule such as fixed or movable holidays are modeled by a
*NonStandardWorkingDay* class with attributes allowing indication
of the dates or days which are holidays or exceptions.

Working times and schedules for service features are modeled by an
analogous association from the feature object (association *LocationHours*).
When a *ServiceHours* is thus linked to a service feature, the service
hour information applies to the feature as a whole (e.g., all services
described in a *PilotService*).

Working times for *MilitaryPracticeArea* features are to be interpreted
as the hours of military activity. Practice times of 24 hours/day
are explicitly encoded (from 00:00:00 to 24:00:00 hrs., in accordance
with <<ISO_8601_2004>> conventions for midnight at the beginning and end of
a day). The dates of activity are indicated by attributes *fixedDateRange*
or *periodicDateRange* as appropriate. Special cases such as unknown
practice times can be explained in the *textContent* or *information*
attribute of *MilitaryPracticeArea* or *ServiceHours*.

The model for both kinds of schedules is shown in <<fig_10>>.

[[fig_10]]
.Working times and schedules
image::figure-10.png[]

All the service features in S-127 can be associated to a supervising
organization using the *SrvControl* association. The authority should
be encoded only if its presence in the dataset conveys information
that is useful to the end user.

Since *Authority* also has an information association to *ContactDetails*
(<<fig_11>>), it is in principle possible to link a *VesselTrafficServiceArea*
(for example) to both an *Authority* and *ContactDetails* as well
as linking the *VesselTrafficServiceArea* to the same *ContactDetails*.
Such linking is permissible but will generally be redundant and should,
if possible, be avoided as unnecessary duplication. It may be done
in situations where contact details for an operating authority are
different from contact details for the service it operates.

<<fig_10>> also shows associations between service features and *Authority*.
*Authority*-*ContactDetails* associations are omitted to reduce clutter.

[[sec_6.2.1.6]]
===== Reports to be submitted by vessels

Some marine traffic management areas require reports (or communications
not meeting the strict definition of "reporting") to be filed with
authorities when certain events occur such entering or leaving the
area. These requirements are modelled by association of a *ShipReport*
class to the Authority class. The area in question is modelled by
a feature of the requisite type, e.g., a *VesselTrafficServiceArea*.
Any time requirements or constraints on the filing of the report are
described by the *noticeTime* attribute, with explanations, if any
provided in text form in the *textContent* attribute of *ShipReport*.
Required reporting formats, if necessary to be included, are also
described in the *textContent* attribute. If reporting requirements
depend on vessel characteristics such as type of cargo, etc., that
is encoded using an associated *Applicability* instance. <<fig_11>>
shows the model elements that are used to carry these conditions.

[[fig_11]]
.Reporting
image::figure-11.png[]

[[sec_6.2.1.7]]
===== Regulations applying in specific geographic features

The *AssociatedRxN* association between a feature type and a *Regulations*,
*Restrictions*, *Recommendations*, or *NauticalInformation* object
(see <<fig_12>>) indicates that the *Regulation*, etc., is applicable
within the associated feature. If it is necessary to identify an authority
or organization related to a particular regulation (restriction, etc.)
object, this may be done using the *RelatedOrganisation* association
between *Regulations*, etc., and an *Authority* object. This should
be included only when the connection to the *Authority* conveys useful
information to the end user -- it is not intended to encode the issuing
or controlling authority for every regulation. Note also that while
*Authority* can be associated to geographic features as well as *Regulations*,
etc., encoding both associations is not mandatory even when the same
*Authority* is associated to a service area as well as a *Regulations*
object (or *NauticalInformation*, etc.).

[[fig_12]]
.Regulations, etc., relevant to specific features
image::figure-12.png[]

[[sec_6.2.1.8]]
===== Regulations applying only to vessels with specific characteristics or cargoes

Certain regulations apply only to vessels of specified dimensions,
types, or carrying specified cargo, etc.

This is modelled by first defining the relevant subset of vessels
according to the dimension, type, cargo, etc., and then associating
that subset to the appropriate feature or information type. The subset
of vessels is modelled using the *Applicability* class, which contains
attributes for the most common vessel characteristics used in nautical
publications. These include measurements (length, beam, draught),
type of cargo, displacement, etc. Constraints which cannot be modelled
using the attributes of *Applicability* can be described in plain
text in its *information* attribute.

Conditions relating to vessel dimensions are modelled by the complex
attribute *vesselsMeasurements*, which has sub-attributes for naming
the dimension and indicating the limit (whether the condition applies
to a vessel which exceeds or falls below the limit). For example,
the combinations below describe the condition
"length overall > 50 m" (Condition 1) and "length overall < 90 m"
(Condition 2):

[[table_6.1]]
.Conditions relating to vessel dimensions
[cols="4"]
|===
| h| Condition 1 h| Condition 2 h| Condition 3

| *vesselsCharacteristics*      | length overall | length overall | breadth
| *vesselsCharacteristicsUnit*  | metre          | metre          | metre
| *comparisonOperator*          | greater than   | less than      | greater than
| *vesselsCharacteristicsValue* | 50             | 90             | 20
|===


The *logicalConnectives* attribute is used to indicate how to interpret
the case where multiple conditions are encoded using attributes of
measurements - whether the conditions described by condition attributes
are cumulative (conjunctive, AND) or alternatives (disjunctive, OR).
A _logicalConnectives=AND_ combined with Conditions 1 and 2 above
describes a vessel of length between 50 and 90 metres; _logicalConnectives=OR_
combined with conditions 1 and 3 describes a vessel of length greater
than 50 metres or beam greater than 20 metres.

This modelling cannot represent subsets defined by both AND and OR
combinations of conditions, but it is always possible to convert such
complex conditions into multiple combinations each using only AND
('conjunctive normal form') or OR ('disjunctive normal form'), and
model the subset using more than one *Applicability* object.

<<fig_13>> depicts the classes and attributes that can be used to
define subsets of vessels according to specified characteristics.

[[fig_13]]
.Vessel subsets characterized by cargo and dimensions
image::figure-13.png[]

Given the relevant subset of vessels, it can be associated to the
appropriate feature, regulation, or report by a *PermissionType*,
or *InclusionType* association. These are association classes, whose
single attribute models the nature of the relationship between the
vessel subset and feature or information type. <<fig_14>> depicts
the use of vessel subsets in *PermissionType* or *InclusionType* associations.

The association classes *PermissionType* and *InclusionType* basically
characterize the relationship. For example:

. A specified set of vessels is COVERED by a regulation and another
set of vessels is EXEMPT from the regulation.
. Vessels with specified cargo & dimensions MUST use a specified pilot
boarding place, vessels of smaller dimensions are RECOMMENDED to use
the boarding place, and warships are EXEMPT from using the pilot boarding
place.

"COVERED" and "EXEMPT" are different kinds of relationship between
different subsets of vessels characterized by different dimensional
limits, etc., and a given regulation.

"MUST use", "RECOMMENDED to use", and "EXEMPT from use" are relationships
between different subsets of vessels characterized by different dimensional
limits, etc., and a given feature or service.

[[fig_14]]
.Applicability of reporting requirements, rules, etc. to vessel categories
image::figure-14.png[]

*PermissionType* links a feature to an *Applicability*, and models
a requirement, recommendation or prohibition on entry into a feature,
by the specified subset of vessels.

Inclusion links a *Regulation*, *Recommendation*, *Restriction*, or
*NauticalInformation* instance to a subset defined by an *Applicability*
object, and indicates whether the content of the *Regulation*, etc.,
applies to the vessels (_membership=included_), or whether it explicitly
does not apply (_membership=excluded_).

Informally:

. Applicability describes the set of vessels: i.e., _who_
. Regulations provides the text of the regulation: i.e., _what_
. The association class *InclusionType* describes the relationship
between _who_ and _what_. That is, _who_ "must (or can)" / "need not"
do _what._

And:

[start=4]
. A geographic feature defines a location or physical facility: i.e.,
_where_
. The association class *PermissionType* describes the relationship
between _who_ and _where_. That is, _who_ can / must / should / need
not use (or sail) _where_.

[[sec_6.2.1.9]]
===== Routeing measures

The routeing measures model defines only one generalized routeing
measure feature. The type of routeing is indicated by a category attribute.
The geometry may be area or line (area geometry should be encoded
in preference to line geometry, if possible). The geometry is expected
to be the spatial combination of relevant geometries from the ENC.
The original features need not be the same class, e.g., an S-127
*RouteingMeasure* feature may combine Inshore Traffic Zone and TSS
Lane Part geometries from S-101 data.

[[fig_15]]
.Routeing measures
image::figure-15.png[]

Additional attributes can be encoded in a *RouteingMeasure* depending
on the type of measure. For features that derive from a range system,
leading lines, or transit lines (i.e.
 _categoryOfRouteingMeasure = 4 (recommended route)_), the
 *categoryOfNavigationLine* attribute may also be encoded to describe
the type of routeing measure. For features that derive from a traffic
separation scheme, (i.e.,
_categoryOfRouteingMeasure = 5 (traffic separation scheme)_), the
*categoryOfTrafficSeparationScheme* attribute may also be encoded
to describe whether is IMO-adopted or not.

Regulations, etc., can be associated with the feature and requirements
relating to use by specific classes of vessels indicated by an associated
*Applicability* instance. If different parts of the routeing measure
have different information associated with them, the geometry can
be divided into parts as needed.

[[sec_6.2.1.10]]
===== Vessel traffic service areas and related features

<<fig_16>> depicts the S-127 features relevant to VTS areas and features
associated to VTS. Associations to information types are also shown.

It is not necessary to associate non-VTS features in this part of
the model to a VTS. They may be included independently of VTS areas
if they are relevant to traffic management on their own.

[[fig_16]]
.Vessel traffic service areas and associated classes
image::figure-16.png[]

[[sec_6.2.1.11]]
===== Pilotage

Pilot boarding places, districts, and services are depicted in <<fig_17>>
below, along with associated information types.

[[fig_17]]
.Pilotage features and associated classes
image::figure-17.png[]

[[sec_6.2.1.12]]
===== Water levels and underkeel clearances

In some locations, up-to-date information may be available, or required
to be obtained, from an off-vessel source, or required to be computed
in near-real-time using software. This is indicated by the *dynamicResource*
attribute. Constraints related to this attribute are:

[[table_6.2]]
.Types of dynamic resources
[cols="3"]
|===
h| Value h| Definition h| Requirement

| static
| The information is static, or a source of up-to-date information
is unavailable or unknown.
| None -- vessels can use the water level or clearance information
encoded in the feature.

| mandatory external dynamic
| An external source of up-to-date information is available and interaction
with it to obtain up-to-date information is required.
| The external source must be encoded in an associated ContactDetails.
Vessels are required to access this external source for up-to-date
information.

| optional external dynamic
| An external source of up-to-date information is available but interaction
with it to obtain up-to-date information is not required.
| The external source must be encoded in an associated ContactDetails.
Vessels are not required to access this external source.

| onboard dynamic | Up-to-date information may be computed using only
onboard resources.
| No external source is encoded. Vessels are required to compute water
level or clearance information using onboard software. The controlling
authority may specify the allowed software.

|===

In general, dynamic resources are realizations of a common metaclass
as depicted in <<fig_18>>.

[[fig_18]]
.Feature classes modeling dynamic resources
image::figure-18.png[]

This metaclass binds the *dynamicResource* attribute described in
<<table_6.2>> and allows an association to *ContactDetails* for pointers
to the location of external resources where the information can be
obtained. It also allows an optional association to *Authority* objects,
for coding the responsible authority. Further, since it is a feature
type, it has the same attributes and associations as generic feature
classes, i.e., atttributes *fixedDateRange*, etc., and associations
to the information types *NauticalInformation*, etc.

The metaclass represents the structural characteristics of all features
which represent dynamic information. Individual feature classes representing
dynamic resources should have the attributes and associations of the
metaclass, and may, in addition, bind attributes and have associations
specific to the particular concepts represented by the realization.
For example, *WaterwayArea* adds the attributes *siltationRate* and
*status* to those of the metaclass.

The S-127 features related to underkeel clearance and dynamic water
level information are depicted in <<fig_19>> below.

[[fig_19]]
.Underkeel clearance and water level features and associated classes
image::figure-19.png[]

[[sec_6.2.1.13]]
===== Other areas

This part of the model includes miscellaneous areas which are relevant
to marine traffic management and is depicted in <<fig_20>>.

[[fig_20]]
.Cautionary and other specially designated areas
image::figure-20.png[]

[[sec_6.2.1.14]]
===== S-127 Enumerations and codelists

For completeness, the enumerations and codelists in the S-127 domain
are provided in <<fig_21;to!fig_23>>. They are divided into multiple figures
for convenience.

[[fig_21]]
.Category enumerations
image::figure-21.png[]

[[fig_22]]
.Other enumerations and codelists
image::figure-22.jpg[]

[[fig_23]]
.Enumerations for meta-features
image::figure-23.png[]

[[sec_6.2.1.15]]
===== Uncategorized additional information

The domain model also provides a method for attaching to any feature
or information type data in the form of a text note, graphic, or Internet
reference which cannot be categorized using an appropriate feature
or information type. This consists of defining a *NauticalInformation*
object and referencing it from the feature or information type using
the *AdditionalInformation* association. This method is intended to
be a last resort and every effort should be made to use a more specific
feature or information type to encode the information to be attached,
including splitting the information in question across more than one
type of feature or information object as needed and/or using the *AssociatedRxN*
association instead of *AdditionalInformation*, wherever the nature
of the content allows it. See <<fig_24>>.

[[fig_24]]
.Attachment of uncategorizable information to any feature or information type
image::figure-24.png[]

The *AdditionalInformation* association must not be used to chain
*NauticalInformation*, *Regulations*, *Restrictions*, or *Recommendations*
objects, whether they are of the same class or different classes.

[[sec_6.2.2]]
==== Meta features

S-127 has two meta feature classes. The first one is *QualityOfNonbathymetricData* and is derived from *QualityOfTemporalVariation*, which in turn is derived from *DataQuality*. The second is *DataCoverage*. See <<fig_25>>.

[[fig_25]]
.Overview of Meta feature classes and enumerations
image::figure-25.png[]

[[sec_6.2.3]]
==== Spatial quality information type

S-127 spatial quality is composed of two information types, namely
*SpatialQuality* and *SpatialQualityPoint*, which is derived of the
first. As the name indicates, the latter is for spatial points, while
*SpatialQuality* is for curves. The attributes are for temporal quality
and qualitative and quantitative horizontal quality. See <<fig_26>>.

[[fig_26]]
.Spatial quality
image::figure-26.png[]

[[sec_6.2.4]]
==== Cartographic features

S-127 utilizes a cartographic feature called *TextPlacement* that
is used in association with the *featureName* attribute to optimise
text positioning, such as at smaller scales to prevent cluttering.
This feature can be associated to any geographic feature and gives
the location of a text string relative to the location of the feature.
See <<fig_27>>.

[[fig_27]]
.Text placement
image::figure-27.png[]
